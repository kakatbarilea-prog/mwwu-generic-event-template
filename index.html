<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Make Wine With Us — Event Registration</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  :root{
    --brand:#800080;      /* main brand purple */
    --brand-2:#9a329a;    /* subtle gradient stop */
    --ink:#2b2b2b;        /* body text */
    --muted:#6b7280;      /* secondary text */
    --bg:#ffffff;
    --line:#e9e9ee;
    --radius:14px;
  }

  /* Base */
  *{box-sizing:border-box}
  html,body{
    margin:0;
    font-family:"Segoe UI",system-ui,-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial,sans-serif;
    color:var(--ink);
    background:var(--bg);
  }
  a{color:inherit;text-decoration:none}
  .container{max-width:1200px;margin:0 auto;padding:0 16px}

  /* Announcement */
  .announce{background:var(--brand);color:#fff;font-size:14px;line-height:1.3}
  .announce-inner{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 0}
  .announce a{color:#fff;text-decoration:underline}

  /* Header */
  header{border-bottom:1px solid var(--line);background:#fff;position:sticky;top:0;z-index:50}
  .bar{display:grid;grid-template-columns:auto 1fr auto;gap:16px;align-items:center;padding:14px 0}
  .brand{display:flex;align-items:center;gap:12px;min-width:0}
  .brand img{height:56px;width:auto;display:block}
  nav{display:flex;align-items:center;justify-content:center}
  .nav{display:flex;gap:24px;list-style:none;margin:0;padding:0;font-size:16px}
  .nav a{color:#4b5563;font-weight:600}
  .nav a:hover{color:var(--brand)}

  .actions{display:flex;align-items:center;gap:12px;white-space:nowrap}
  .phone{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--line);border-radius:999px;font-weight:600;color:#1f2937;background:#fff}
  .phone svg{width:16px;height:16px}
  .social{display:flex;gap:8px}
  .social a{width:34px;height:34px;border-radius:50%;border:1px solid var(--line);display:inline-flex;align-items:center;justify-content:center}
  .social a:hover{border-color:var(--brand)}
  .btn{display:inline-flex;align-items:center;justify-content:center;height:38px;padding:0 14px;border-radius:999px;border:1px solid transparent;font-weight:700;font-size:15px;cursor:pointer;transition:transform .04s ease, box-shadow .2s ease;font-family:inherit}
  .btn:active{transform:translateY(1px)}
  .btn.primary{background:linear-gradient(180deg,var(--brand),var(--brand-2));color:#fff;box-shadow:0 6px 16px rgba(128,0,128,.25)}
  .btn.primary:hover{background:linear-gradient(180deg,var(--brand-2),var(--brand));box-shadow:0 8px 20px rgba(128,0,128,.35);transform:translateY(-1px)}
  .btn.ghost{background:#fff;border-color:var(--line);color:#1f2937}
  .btn.ghost:hover{border-color:var(--brand);color:var(--brand)}
  .hamburger{display:none}
  #nav-toggle{display:none}
  @media (max-width:980px){
    .bar{grid-template-columns:auto auto 1fr;gap:10px}
    .brand img{height:48px}
    .hamburger{border:1px solid var(--line);border-radius:10px;padding:8px 10px;background:#fff;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:700;color:#374151}
    nav{justify-content:flex-end}
    .nav{position:fixed;inset:64px 16px auto 16px;flex-direction:column;gap:10px;padding:14px;border:1px solid var(--line);background:#fff;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.08);display:none;z-index:60}
    #nav-toggle:checked ~ nav .nav{display:flex}
    .actions{gap:8px}
    .phone{padding:6px 10px}
    .btn{height:36px;padding:0 12px}
  }
  a:focus-visible,.btn:focus-visible,.hamburger:focus-visible,.phone:focus-visible{outline:3px solid rgba(128,0,128,.35);outline-offset:2px;border-radius:12px}

  /* --- Dropdowns (fixed) --- */
  .nav li{ position:relative; }
  .subnav{
    position:absolute; top:100%; left:0; min-width:220px; background:#fff;
    border:1px solid var(--line); border-radius:12px; box-shadow:0 14px 36px rgba(0,0,0,.12);
    padding:8px; opacity:0; transform:translateY(6px); pointer-events:none;
    transition:opacity .15s ease, transform .15s ease; z-index:70;
  }
  .subnav::before{content:"";position:absolute;left:0;right:0;top:-8px;height:8px}
  .has-sub:hover > .subnav,.has-sub:focus-within > .subnav{opacity:1;transform:translateY(0);pointer-events:auto}
  .subnav a{display:block;padding:9px 10px;border-radius:8px;color:#374151;font-weight:600;white-space:nowrap}
  .subnav a:hover{background:#faf7fb;color:var(--brand)}
  @media (max-width:980px){
    .nav .subnav{position:static;border:0;box-shadow:none;opacity:1;transform:none;pointer-events:auto;padding:6px 0 0}
    .nav .subnav::before{display:none}
    .nav .subnav a{padding:8px 10px 8px 14px}
  }

  /* ===== Registration page sections ===== */
  #event-reg{ padding:clamp(22px,4vw,44px) 0; }

  /* Featured image — always 16:9 crop (1920×1080 look) */
  .hero-figure{ max-width:1100px; margin:0 auto 22px; }
  .hero-16x9{
    aspect-ratio:16/9; width:100%; border-radius:16px; overflow:hidden;
    box-shadow:0 18px 40px rgba(0,0,0,.08); background:#eee;
  }
  .hero-16x9 img{ width:100%; height:100%; object-fit:cover; display:block; }

  /* 2-col layout */
  .reg-grid{
    display:grid; gap:28px;
    grid-template-columns:minmax(0,1.55fr) minmax(280px,.9fr);
    align-items:start;
  }
  @media (max-width:980px){ .reg-grid{ grid-template-columns:1fr; } }

  .event-title{ margin:0 0 10px; font-weight:900; font-size:clamp(22px,3vw,28px); color:#111827; letter-spacing:.2px; }
  .eyebrow{ margin:22px 0 8px; font-weight:800; color:#111827; }

  /* Purple meta lines (not the headings) */
  .meta-line{ display:flex; align-items:center; gap:10px; color:var(--brand); font-weight:700; }
  .meta-line i{ color:var(--brand); }

  /* Map */
  .map-wrap{ margin:12px 0 16px; }
  .map-wrap iframe{ width:100%; height:320px; border:1px solid var(--line); border-radius:12px; }
  .map-link{ display:inline-block; margin-top:8px; font-weight:700; color:var(--brand); text-decoration:underline; }

  .event-desc{ color:#394150; line-height:1.75; }

  /* Purchase box */
  .buy{ position:relative; }

  /* DEFAULT: gray box */
  .buy-box{
    border:2px solid var(--line);
    border-radius:14px;
    background:#fff;
    padding:14px;
    box-shadow:0 8px 22px rgba(0,0,0,.06);
    transition:border-color .2s ease, box-shadow .2s ease;
  }
  /* ACTIVE (qty > 0): purple box */
  .buy-box.is-active{ border-color:var(--brand); box-shadow:0 8px 22px rgba(128,0,128,.18); }

  .buy-top{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
  .buy-title{ font-weight:800; color:#111827; }

  .qty{ display:inline-flex; align-items:center; gap:8px; }
  .qty-btn{
    width:34px; height:34px; border-radius:8px; border:1px solid var(--line);
    background:#fff; color:#374151; font-weight:800; cursor:pointer;
  }
  .qty-btn:hover{ border-color:var(--brand); color:var(--brand); }
  .qty input{
    width:42px; height:34px; border:1px solid var(--line);
    border-radius:8px; text-align:center; font:inherit; font-weight:700;
  }

  .price-line{ margin-top:10px; color:#111827; }
  .price-line strong{ font-weight:800; }

  .reg-btn{
    margin-top:14px; width:100%; height:48px; border-radius:10px;
    border:1px solid #e5e7eb; background:#ececf1; color:#9aa0a6;
    font-weight:900; letter-spacing:.12em; text-transform:uppercase;
    cursor:not-allowed; transition:box-shadow .2s, transform .06s, filter .2s;
  }
  .reg-btn.is-active{
    border-color:transparent;
    background:linear-gradient(180deg,var(--brand),var(--brand-2));
    color:#fff; cursor:pointer;
    box-shadow:0 8px 20px rgba(128,0,128,.28);
  }
  .reg-btn.is-active:hover{ transform:translateY(-1px); filter:saturate(1.05); }

  /* ===== Date-time picker (matches your example, on-brand) ===== */
  .picker{
    border:1px solid var(--line);
    border-radius:14px;
    padding:16px;
  }
  .picker-title{
    margin:0 0 10px;
    font-weight:800;
    letter-spacing:.06em;
    text-transform:uppercase;
    color:#374151;
  }
  .picker-selected{
    display:flex; align-items:center; gap:10px;
    color:#111827; margin-bottom:14px;
  }
  .picker-selected i{ color:var(--brand); }
  .picker-grid{ display:flex; gap:18px; flex-wrap:wrap; }

  .picker-tile{
    width:150px;
    border:2px solid #d8cde2;
    border-radius:12px;
    background:#f4f0fa;
    padding:12px 14px;
    cursor:pointer;
    transition:border-color .2s, box-shadow .2s;
    text-align:left;
  }
  .picker-tile:hover{ border-color:var(--brand); }
  .picker-tile.active{
    border-color:var(--brand);
    box-shadow:0 8px 22px rgba(128,0,128,.18);
  }
  .picker-tile .dow{ font-weight:600; margin-bottom:6px; }
  .picker-tile .mon{ font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:#8b8e99; margin-bottom:4px; }
  .picker-tile .day{ font-size:28px; font-weight:800; color:var(--brand); margin:6px 0; }
  .picker-tile .time{ font-weight:700; color:#111827; }

  /* Footer */
  .site-footer{background:#111;color:#ddd;font-size:15px;line-height:1.6;padding-top:50px}
  .footer-grid{display:grid;gap:40px;grid-template-columns: 1.2fr 1fr 1fr}
  @media(max-width:900px){ .footer-grid{grid-template-columns:1fr 1fr} }
  @media(max-width:640px){ .footer-grid{grid-template-columns:1fr} }
  .foot-title{color:#fff;font-weight:800;margin:0 0 12px;font-size:16px;text-transform:uppercase;position:relative}
  .foot-title::after{content:"";display:block;width:40px;height:2px;background:var(--brand);margin-top:6px}
  .footer-text{margin-bottom:14px;max-width:500px;color:#ccc}
  .footer-cta{margin-top:6px;display:inline-block;font-size:14px;padding:8px 18px}
  .footer-social{margin-top:16px;display:flex;gap:12px}
  .footer-social a{width:34px;height:34px;border-radius:50%;background:#222;display:flex;align-items:center;justify-content:center;color:#ccc;font-size:15px}
  .footer-social a:hover{background:var(--brand);color:#fff}
  .foot-links{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:1fr 1fr;gap:8px 24px}
  .foot-links a{color:#ddd;font-weight:500}
  .foot-links a:hover{color:#fff}
  .contact-list{list-style:none;padding:0;margin:0 0 14px;display:flex;flex-direction:column;gap:10px}
  .contact-list i{margin-right:8px;color:var(--brand)}
  .contact-list a{color:#ddd}
  .contact-list a:hover{color:#fff}
  .hours-label{display:block;font-size:13px;color:#aaa;margin-bottom:2px;text-transform:uppercase}
  .hours-value{color:#eee}
  .footer-bottom{border-top:1px solid #222;margin-top:40px;padding:18px 0;font-size:13px;color:#999}
  .footer-bottom-inner{display:flex;align-items:center;justify-content:space-between;gap:20px}
  .footer-bottom a{color:#999;margin-left:14px}
  .footer-bottom a:hover{color:#fff}

  /* ===== Modals (kept from earlier) ===== */
  body.no-scroll{ overflow:hidden; }
  .modal[hidden]{ display:none !important; }
  .modal{
    position:fixed; inset:0; z-index:100;
    display:flex; align-items:flex-start; justify-content:center;
    padding:40px 14px;
    background:rgba(0,0,0,.45); backdrop-filter:saturate(120%) blur(2px);
    overflow:auto;
  }
  .ck-dialog{
    position:relative; width:100%; max-width:980px; background:#fff; color:#111827;
    border-radius:16px; box-shadow:0 30px 80px rgba(0,0,0,.35);
  }
  .ck-close{
    position:absolute; top:10px; right:10px; width:40px; height:40px; border:0;
    border-radius:50%; background:rgba(0,0,0,.6); color:#fff; font-size:20px; cursor:pointer;
  }
  .ck-head{ padding:18px 20px 8px; border-bottom:1px solid var(--line); }
  .ck-title{ margin:0; font-size:clamp(20px,3vw,28px); font-weight:500; letter-spacing:.2px; }

  .ck-grid{
    display:grid; gap:24px;
    grid-template-columns: minmax(0,1.2fr) minmax(0,.85fr);
    padding:14px 20px 20px;
  }
  @media (max-width:900px){ .ck-grid{ grid-template-columns:1fr; } }

  .ck-section-title{ margin:6px 0 6px; color:var(--brand); font-weight:800; }
  .ck-note{ margin:0 0 10px; color:#6b7280; }
  .ck-note a{ color:var(--brand); text-decoration:underline; font-weight:600; }

  .ck-form .row{ display:grid; gap:18px; grid-template-columns:1fr 1fr; }
  @media (max-width:640px){ .ck-form .row{ grid-template-columns:1fr; } }
  .ck-field{ display:flex; flex-direction:column; gap:6px; }
  .ck-field input{
    font:inherit; padding:14px 18px; min-height:46px; border:1px solid var(--line); border-radius:10px; background:#fff; color:#111827;
    transition:border-color .2s, box-shadow .2s, background-color .2s;
  }
  .ck-form.was-validated input:invalid{
    border-color:#ef4444; background:#fff7f7;
    box-shadow:0 0 0 3px rgba(239,68,68,.12);
  }

  .ck-check{ display:flex; align-items:center; gap:10px; margin:8px 0 10px; user-select:none; }
  .ck-check input{ width:18px; height:18px; }

  #accountFields{ display:none; }
  #accountFields.open{ display:grid; gap:12px; grid-template-columns:1fr 1fr; }
  @media (max-width:640px){ #accountFields.open{ grid-template-columns:1fr; } }

  .ck-terms{ margin:8px 0 14px; font-size:14px; color:#4b5563; }
  .ck-terms a{ color:var(--brand); text-decoration:underline; }

  .ck-submit{
    width:min(260px,100%); height:46px; border-radius:10px; border:0;
    background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; font-weight:800; letter-spacing:.02em;
    cursor:pointer; box-shadow:0 10px 24px rgba(128,0,128,.25);
  }
  .ck-submit:hover{ filter:saturate(1.06); transform:translateY(-1px); }

  .ck-summary{ border:1px solid var(--line); border-radius:14px; overflow:hidden; align-self:start; }
  .ck-sum-media{ background:#eee; }
  .ck-sum-media img{ display:block; width:100%; height:auto; }
  .ck-sum-body{ padding:14px; }
  .ck-sum-title{ margin:0 0 6px; font-weight:800; }
  .ck-sum-meta{ color:#6b7280; font-size:14px; line-height:1.4; margin-bottom:10px; }
  .ck-sum-row{ display:flex; justify-content:space-between; padding:8px 0; border-top:1px solid var(--line); }
  .ck-total{ font-weight:900; }

  /* Leave dialog */
  .confirm-dialog{
    width:100%; max-width:720px; background:#fff; color:#111827; border-radius:16px;
    box-shadow:0 30px 80px rgba(0,0,0,.35); padding:28px 20px; text-align:center; position:relative;
  }
  .leave-title{ margin:0 0 10px; font-size:clamp(26px,4vw,36px); font-weight:800; }
  .leave-note{ color:#6b7280; max-width:640px; margin:0 auto 18px; }
  .leave-actions{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; }
  .btn-leave{ padding:12px 24px; border-radius:10px; border:1px solid #111; background:#fff; font-weight:700; }
  .btn-exit{ padding:12px 24px; border-radius:10px; border:0; background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; font-weight:800; }

/* Vertical space between one field block and the next (ALL fields) */
#checkoutModal .ck-form .row,
#checkoutModal .ck-form > .ck-field{
  margin-bottom: 18px;   /* <-- adjust to taste (e.g., 20–24px) */
}

/* Keep the two password fields nicely spaced when revealed */
#checkoutModal #accountFields.open .ck-field{
  margin-bottom: 12px;
}


</style>
</head>
<body>

<!-- ===== Announcement ===== -->
<div class="announce" role="region" aria-label="Announcement">
  <div class="container announce-inner">
    <div>Congratulations to our talented winemakers—medal winners at the 2025 Garden State Amateur Wine Challenge, including a <strong>“Best Red”</strong> gold honor!</div>
    <div><a href="#">Already have an account? Log in</a></div>
  </div>
</div>

<!-- ===== Header ===== -->
<header>
  <div class="container bar">
    <a class="brand" href="/" aria-label="Make Wine With Us — Home">
      <img src="https://d34hmiuaex7c0.cloudfront.net/3719/uploads/cmaspages/gallery/1672135833219.png" alt="Make Wine With Us logo" />
    </a>

    <label class="hamburger" for="nav-toggle" aria-label="Toggle menu">☰ Menu</label>
    <input id="nav-toggle" type="checkbox" aria-hidden="true"/>

    <nav aria-label="Primary">
      <ul class="nav" id="nav">
        <li class="has-sub">
          <a href="/process">Winemaking Process</a>
          <div class="subnav" role="menu">
            <a href="/wines-you-can-make" role="menuitem">Wines You Can Make</a>
            <a href="/label-making" role="menuitem">Label Making</a>
          </div>
        </li>

        <li><a href="/regions">Regions</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/faqs">FAQs</a></li>

        <li class="has-sub">
          <a href="/events" aria-current="page">Events</a>
          <div class="subnav" role="menu">
            <a href="/events/private" role="menuitem">Private Events</a>
            <a href="/events/upcoming" role="menuitem">Upcoming Events</a>
          </div>
        </li>

        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>

    <div class="actions">
      <a class="phone" href="tel:+12018769463" aria-label="Call Make Wine With Us">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.79 19.79 0 0 1 3.09 5.18 2 2 0 0 1 5 3h3a2 2 0 0 1 2 1.72c.12.9.31 1.77.57 2.6a2 2 0 0 1-.45 2.11L9 10a16 16 0 0 0 5 5l.57-.57a2 2 0 0 1 2.11-.45c.83.26 1.7.45 2.6.57A2 2 0 0 1 22 16.92z"/></svg>
        (201) 876-9463
      </a>

      <div class="social" aria-label="Social links">
        <a href="https://www.facebook.com/MakeWineWithUs" aria-label="Facebook" title="Facebook" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.57 9.87v-6.99H7.9V12h2.53V9.8c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.22.2 2.22.2v2.44h-1.25c-1.24 0-1.62.77-1.62 1.56V12h2.76l-.44 2.88h-2.32v6.99A10 10 0 0 0 22 12"/></svg>
        </a>
        <a href="https://www.instagram.com/makewinewithus/" aria-label="Instagram" title="Instagram" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5m0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5m6.25-3.5a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 18.25 6z"/></svg>
        </a>
      </div>

      <a class="btn ghost" href="#">Create an Account</a>
      <a class="btn primary" href="#">Make Wine Now</a>
    </div>
  </div>
</header>

<!-- ===== Registration Content ===== -->
<main id="event-reg">
  <div class="container">
    <!-- Featured image -->
    <figure class="hero-figure">
      <div class="hero-16x9">
        <img
          src="https://d34hmiuaex7c0.cloudfront.net/3719/uploads/class_course_featured_1729169935335.png"
          alt="Thursday Night Tastings featured banner"
        />
      </div>
    </figure>

    <div class="reg-grid">
      <!-- LEFT: details -->
      <section class="details">
        <h1 class="event-title">Thursday Night Tastings</h1>

        <h3 class="eyebrow">Next Event:</h3>
        <div class="meta-line">
          <i class="fa-regular fa-calendar"></i>
          <span id="nextEventText">—</span>
        </div>
<br>
        <!-- Select Date & Time -->
        <div class="picker" aria-label="Select a date and time">
          <h4 class="picker-title">SELECT DATE AND TIME</h4>
          <div class="picker-selected">
            <i class="fa-regular fa-calendar"></i>
            <span id="pickerSelectedText">—</span>
          </div>
          <div class="picker-grid" id="pickerGrid"></div>
        </div>

        <h3 class="eyebrow" style="margin-top:22px">Location</h3>
        <div class="meta-line">
          <i class="fa-solid fa-location-dot"></i>
          <span>Make Wine With Us Facility — 21 Curie Ave, Wallington, NJ 07057</span>
        </div>

        <!-- Map + directions -->
        <div class="map-wrap" aria-label="Map to Make Wine With Us">
          <iframe
            title="Make Wine With Us — Map"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps?q=21%20Curie%20Ave%2C%20Wallington%2C%20NJ%2007057&output=embed"
          ></iframe>
          <a class="map-link" target="_blank" rel="noopener"
             href="https://www.google.com/maps/dir/?api=1&destination=21+Curie+Ave,+Wallington,+NJ+07057">
            Get directions ↗
          </a>
        </div>

        <div class="event-desc">

<p>Join us at Make Wine With Us every Thursday for an unforgettable evening of wine sampling as we unveil a selection of exquisite wines bottled over the summer. This highly anticipated weekly event marks the beginning of the fall winemaking season and offers you the perfect opportunity to find your ideal wine to create.</p>

<p>Immerse yourself in the world of winemaking as our expert team guides you through this extraordinary tasting experience. Sample a diverse range of wines, each crafted by talented winemakers right here at Make Wine With Us this past fall. Let your taste buds explore the rich flavors and unique characteristics that these wines embody.</p>

<p>To enhance your enjoyment, we invite you to bring your favorite snacks and indulge in a relaxed and friendly atmosphere.</p>

<p>Every Thursday, at 5 - 9 PM. Reservations not required.</p>


        </div>
      </section>

      <!-- RIGHT: purchase box -->
      <aside class="buy">
        <div class="buy-box">
          <div class="buy-top">
            <div class="buy-title">Thursday Night Tastings</div>

            <div class="qty" aria-label="Quantity selector">
              <button class="qty-btn" id="qtyMinus" aria-label="Decrease quantity">−</button>
              <input id="qty" type="number" min="0" step="1" value="0" inputmode="numeric" aria-live="polite" />
              <button class="qty-btn" id="qtyPlus" aria-label="Increase quantity">+</button>
            </div>
          </div>

          <div class="price-line">Free Registration</div>
        </div>

        <button id="regBtn" class="reg-btn" disabled>REGISTER NOW</button>
      </aside>
    </div>
  </div>
</main>

<!-- ===== Footer ===== -->
<footer class="site-footer">
  <div class="container footer-grid">
    <div class="footer-col">
      <h3 class="foot-title">About Make Wine With Us</h3>
      <p class="footer-text">
        Craft small-batch wines from premium grapes with guidance from American Wine Society instructors. Choose, crush, age, and bottle — and take your vintage home.
      </p>
      <a href="#" class="btn primary footer-cta">Become a Winemaker</a>
      <div class="footer-social">
        <a href="https://www.instagram.com/makewinewithus/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://www.facebook.com/MakeWineWithUs" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
      </div>
    </div>

    <div class="footer-col">
      <h3 class="foot-title">Explore</h3>
      <ul class="foot-links">
        <li><a href="#">About</a></li><li><a href="#">Winemaking Process</a></li>
        <li><a href="#">Wines You Can Make</a></li><li><a href="#">Regions</a></li>
        <li><a href="#">Blog</a></li><li><a href="#">FAQs</a></li>
        <li><a href="#">Events</a></li><li><a href="#">Private Events</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h3 class="foot-title">Have a Question?</h3>
      <ul class="contact-list">
        <li><i class="fas fa-map-marker-alt"></i>21 Curie Avenue, Wallington, NJ 07057</li>
        <li><i class="fas fa-phone-alt"></i><a href="tel:+12018769463">(201) 876-9463</a></li>
        <li><i class="fas fa-envelope"></i><a href="mailto:info@makewinewithus.com">info@makewinewithus.com</a></li>
      </ul>
      <div class="hours">
        <span class="hours-label">Hours</span>
        <span class="hours-value">Mon–Fri 12–8pm · Sat 10–6pm</span>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <div class="container footer-bottom-inner">
      <p>© 2025 Make Wine With Us. All rights reserved.</p>
      <div class="foot-legal"><a href="#">Privacy</a><a href="#">Terms</a></div>
    </div>
  </div>
</footer>

<!-- ===== CHECKOUT MODALS ===== -->
<div id="checkoutModal" class="modal" hidden aria-hidden="true">
  <div class="ck-dialog" role="dialog" aria-modal="true" aria-labelledby="ckTitle">
    <button class="ck-close" id="ckClose" aria-label="Close">×</button>
    <div class="ck-head">
      <h2 id="ckTitle" class="ck-title">Checkout</h2>
    </div>

    <div class="ck-grid">
      <!-- Left: form -->
      <section>
        <h3 class="ck-section-title">Contact information</h3>
        <p class="ck-note">Already have a Make Wine With Us account? <a href="#">Login here</a>.</p>

        <form id="ckForm" class="ck-form" novalidate>
          <div class="row">
            <div class="ck-field">
              <label for="firstName">First name*</label>
              <input id="firstName" name="firstName" type="text" required />
            </div>
            <div class="ck-field">
              <label for="lastName">Last name*</label>
              <input id="lastName" name="lastName" type="text" required />
            </div>
          </div>

          <div class="row">
            <div class="ck-field">
              <label for="email">Primary Email*</label>
              <input id="email" name="email" type="email" required placeholder="you@example.com" />
            </div>
            <div class="ck-field">
              <label for="phone">Primary Phone*</label>
              <input id="phone" name="phone" type="tel" required placeholder="(201) 876-9463" pattern="^[0-9+\\-\\s()]{10,}$" />
            </div>
          </div>

          <div class="ck-field" style="max-width:220px">
            <label for="ckQty">Quantity Of People*</label>
            <input id="ckQty" name="ckQty" type="number" min="1" step="1" required />
          </div>

          <label class="ck-check">
            <input type="checkbox" id="createAccount" />
            <span>Create Account.</span>
          </label>

          <div id="accountFields">
            <div class="ck-field">
              <label for="password">Password*</label>
              <input id="password" type="password" minlength="6" />
            </div>
            <div class="ck-field">
              <label for="confirmPassword">Confirm Password*</label>
              <input id="confirmPassword" type="password" minlength="6" />
            </div>
          </div>

          <p class="ck-terms">
            By selecting Register, I agree to the
            <a href="https://makewinewithus.com/terms-of-service" target="_blank" rel="noopener">Make Wine With Us Terms of Service</a>.
          </p>

          <button class="ck-submit" type="submit">Register Now</button>
        </form>
      </section>

      <!-- Right: summary -->
      <aside class="ck-summary" aria-label="Order summary">
        <div class="ck-sum-media">
          <img src="https://d34hmiuaex7c0.cloudfront.net/3719/uploads/class_course_featured_1729169935335.png" alt="" />
        </div>
        <div class="ck-sum-body">
          <h4 class="ck-sum-title">Thursday Night Tastings</h4>
          <div class="ck-sum-meta" id="sumMeta"></div>

          <div class="ck-sum-row">
            <span id="sumLine">1 × Thursday Night Tastings</span>
            <span id="sumPrice">$0.00</span>
          </div>
          <div class="ck-sum-row">
            <span>Sales Tax:</span><span>$0</span>
          </div>
          <div class="ck-sum-row ck-total">
            <span>Total</span><span id="sumTotal">$0</span>
          </div>
        </div>
      </aside>
    </div>
  </div>
</div>

<!-- Leave confirmation -->
<div id="leaveModal" class="modal" hidden aria-hidden="true">
  <div class="confirm-dialog" role="dialog" aria-modal="true" aria-labelledby="leaveTitle">
    <h2 id="leaveTitle" class="leave-title">Leave Checkout?</h2>
    <p class="leave-note">Are you sure you want to leave checkout? The items you've selected may not be available later.</p>
    <div class="leave-actions">
      <button id="stayBtn" class="btn-leave">Stay</button>
      <button id="leaveBtn" class="btn-exit">Leave</button>
    </div>
  </div>
</div>

<!-- ===== Quantity / Picker / Register behavior ===== -->
<script>
  (function(){
    const minus = document.getElementById('qtyMinus');
    const plus  = document.getElementById('qtyPlus');
    const input = document.getElementById('qty');
    const btn   = document.getElementById('regBtn');
    const box   = document.querySelector('.buy-box');

    const ckModal = document.getElementById('checkoutModal');
    const leaveModal = document.getElementById('leaveModal');
    const ckClose = document.getElementById('ckClose');
    const ckForm = document.getElementById('ckForm');
    const ckQty = document.getElementById('ckQty');
    const sumLine = document.getElementById('sumLine');
    const sumPrice = document.getElementById('sumPrice');
    const sumTotal = document.getElementById('sumTotal');
    const createAccount = document.getElementById('createAccount');
    const accountFields = document.getElementById('accountFields');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirmPassword');
    const stayBtn = document.getElementById('stayBtn');
    const leaveBtn = document.getElementById('leaveBtn');

    /* ===== Date/time sessions ===== */
    const SESSIONS = [
      "2025-08-28T17:00:00-04:00",
      "2025-09-04T17:00:00-04:00",
      "2025-09-11T17:00:00-04:00",
    ].map(s => new Date(s));

    const fFull = new Intl.DateTimeFormat(undefined, {weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"});
    const fHead = new Intl.DateTimeFormat(undefined, {weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"});
    const fDow  = new Intl.DateTimeFormat(undefined, {weekday:"long"});
    const fMon  = new Intl.DateTimeFormat(undefined, {month:"long"});
    const fDay  = new Intl.DateTimeFormat(undefined, {day:"2-digit"});
    const fTime = new Intl.DateTimeFormat(undefined, {hour:"numeric",minute:"2-digit"});

    let selectedIndex = 0;

    function renderPicker(){
      const grid = document.getElementById("pickerGrid");
      grid.innerHTML = "";
      SESSIONS.forEach((d,i)=>{
        const tile = document.createElement("button");
        tile.type = "button";
        tile.className = "picker-tile" + (i===0 ? " active" : "");
        tile.dataset.idx = i;
        tile.innerHTML = `
          <div class="dow">${fDow.format(d)}</div>
          <div class="mon">${fMon.format(d).toUpperCase()}</div>
          <div class="day">${fDay.format(d)}</div>
          <div class="time">${fTime.format(d)}</div>
        `;
        tile.addEventListener("click",()=>selectPicker(i));
        grid.appendChild(tile);
      });
      selectPicker(0);
    }

    function selectPicker(i){
      selectedIndex = i;
      document.querySelectorAll(".picker-tile").forEach(t=>{
        t.classList.toggle("active", +t.dataset.idx === i);
      });
      document.getElementById("pickerSelectedText").textContent = fHead.format(SESSIONS[i]);

      const nextEventText = document.getElementById("nextEventText");
      if(nextEventText) nextEventText.textContent = fHead.format(SESSIONS[0]);

      const sumMeta = document.getElementById("sumMeta");
      if(sumMeta) sumMeta.textContent = fFull.format(SESSIONS[i]);
    }

    renderPicker();

    /* ===== Ticketing (Free) ===== */
    const PRICE = 0; // USD

    function clamp(n){ n = Math.floor(+n || 0); return Math.max(0, Math.min(99, n)); }

    function updateBuy(){
      const q = clamp(input.value);
      input.value = q;
      const active = q > 0;
      btn.disabled = !active;
      btn.classList.toggle('is-active', active);
      box.classList.toggle('is-active', active);
    }

    minus.addEventListener('click', () => { input.value = clamp(input.value) - 1; updateBuy(); });
    plus .addEventListener('click', () => { input.value = clamp(input.value) + 1; updateBuy(); });
    input.addEventListener('input', updateBuy);
    updateBuy();

    /* ---- Modal helpers ---- */
    function openModal(m){
      m.hidden = false;
      m.setAttribute('aria-hidden','false');
      document.body.classList.add('no-scroll');
    }
    function closeModal(m){
      m.hidden = true;
      m.setAttribute('aria-hidden','true');
      if (document.querySelectorAll('.modal:not([hidden])').length === 0){
        document.body.classList.remove('no-scroll');
      }
    }

    function updateSummary(q){
      const qty = Math.max(1, Math.floor(q || 1));
      sumLine.textContent = qty + " × Thursday Night Tastings";
      sumPrice.textContent = "$" + (PRICE).toFixed(2);
      sumTotal.textContent = "$" + (PRICE * qty).toFixed(2);
      // ensure selected date is reflected (if user changed after page load)
      const sumMeta = document.getElementById("sumMeta");
      if(sumMeta) sumMeta.textContent = fFull.format(SESSIONS[selectedIndex]);
    }

    // Open checkout
    btn.addEventListener('click', () => {
      if(btn.disabled) return;
      ckForm.reset();
      ckForm.classList.remove('was-validated');

      const startQty = Math.max(1, clamp(input.value));
      ckQty.value = startQty;
      updateSummary(startQty);
      openModal(ckModal);
    });

    // qty change inside checkout
    ckQty.addEventListener('input', () => {
      const q = Math.max(1, clamp(ckQty.value));
      ckQty.value = q;
      updateSummary(q);
    });

    // Create account reveal
    createAccount.addEventListener('change', () => {
      accountFields.classList.toggle('open', createAccount.checked);
      password.required = confirmPassword.required = createAccount.checked;
    });

    // Close (X) -> show leave modal
    ckClose.addEventListener('click', () => {
      openModal(leaveModal);
    });

    // Leave confirmation buttons
    stayBtn.addEventListener('click', () => { closeModal(leaveModal); });
    leaveBtn.addEventListener('click', () => { closeModal(leaveModal); closeModal(ckModal); });

    // Click outside leave dialog closes it; outside checkout does nothing
    ckModal.addEventListener('click', (e) => {
      if(e.target === ckModal){ /* keep open */ }
    });
    leaveModal.addEventListener('click', (e) => {
      if(e.target === leaveModal){ closeModal(leaveModal); }
    });

    // Submit validation
    ckForm.addEventListener('submit', (e) => {
      e.preventDefault();
      ckForm.classList.add('was-validated');

      if (createAccount.checked && password.value !== confirmPassword.value){
        confirmPassword.setCustomValidity("Passwords do not match");
      } else {
        confirmPassword.setCustomValidity("");
      }

      if (!ckForm.checkValidity()) return;

      closeModal(ckModal);
      alert("Thanks! Your free registration has been started for " + ckQty.value + " attendee(s).");
    });
  })();
</script>
</body>
</html>



